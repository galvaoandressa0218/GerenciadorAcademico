<div class="main-container" *ngIf="matriz()">

  <main class="content-area">

    <header class="content-header">
      <div class="info">
        <h1>{{ matriz()?.nomeCurso || 'Engenharia de Software' }}</h1>
        <p>Habilitação: **BACHARELADO**</p>
        <p>Campos: Pituacçu Turno: **MATUTINO**</p>
      </div>
      
      <app-botao-organizar
        [textoBotao]="'Organizar Matrizes'"
        (acaoClicada)="handleOrganizarMatrizes()">
      </app-botao-organizar>
      
    </header>

    <div class="curriculum-accordion">
      
      <div *ngFor="let semestre of matriz()?.semestres; index as i" 
           class="accordion-item" 
           [class.open]="openSemesterIndex() === i">

        <div class="accordion-header" (click)="toggleSemester(i)">
          <span>{{ i + 1 }} Semestre</span>
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="arrow-icon" [class.up]="openSemesterIndex() === i">
            <path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/>
          </svg>
        </div>

        <div class="accordion-content">
          <div class="discipline-row" *ngFor="let d of semestre.disciplinas">
            <span class="discipline-name">{{ d.nome }} ({{ d.codigo }})</span>
            <span>{{ d.tipo }}</span>
            <span>{{ d.cargaHoraria }}h</span>
            <span>{{ d.modalidade }}</span>
            <span>{{ d.pratica ? 'Pratica' : 'Teórica' }}</span>
          </div>
        </div>
      </div>
      
      <div class="accordion-item optional-section" [class.open]="openSemesterIndex() === 'Opcionais'">
        <div class="accordion-header" (click)="toggleSemester('Opcionais')">
          <span>Opcionais / Eletivas</span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="arrow-icon" [class.up]="openSemesterIndex() === 'Opcionais'"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
        </div>
        <div class="accordion-content">
          <div class="complementary-hours">
            <label for="comp_hours">componentes complementares</label>
            <div class="input-group">
              <input type="text" id="comp_hours" [value]="matriz()?.chComponentesComplementares || 320" readonly>
              <span>CH</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </main>
</div>